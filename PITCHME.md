## Внедрение Bluetooth Low Energy в систему PERCo

Аубакиров Санжар

Мурашкин Данил

---

### Содержание

- Постановка задачи
- PERCo СКУД
- Reverse Engineering PERCo-KT02
- Эксперимент с управлением приводом
- Решения задачи
- Интеграция с PERCo-KT02
- Дальнейшие планы

---

### Постановка задачи

Модернизация системы контроля доступа с идентификаторами RFID на BLE с дальнейшим использованием смартфонов в качестве идентификаторов

Note:

Модернизация системы контроля доступа с идентификаторами RFID на BLE с дальнейшим использованием смартфонов в качестве идентификаторов. Департамент информационных технологий КазНУ предоставил нам один турникет для экспериментов.

---

#### Знакомство c PERCo-KT02

![Турникет](https://image.ibb.co/jUgWOy/Selection_039.png)

Note:
На официальном сайте perco.ru мы нашли описание турникетов и техническую документацию. Однако мы не смогли найти в открытых источниках электронную схему управления приводом 

---

#### Основные компоненты системы

![Общая схема](https://image.ibb.co/dRd9bJ/Selection_040.png)

Note:
На этом изображении показана схема устройства турникета. Для простоты были удалены все лишние детали и оставлены только те, которые требуются для общего понимания.

---

#### Схема работы

![Схема работы](https://image.ibb.co/dePqiy/Turniket.png)

Note:
Работа построены следующим образом. Пользователь подносит карточку к RFID считывателю, считыватель сообщает ID карты контроллеру, контроллер сверяет ID карты со своей локальной базой, контроллер использует драйверы для прокрутки мотора планок. Обратите внимание что считыватели и драйвера разные для входа и для выхода.

Первым делом мы решили подключиться к мотору управления планками напрямую, игнорируя основной контроллер.

---

#### Первая схема работа с Bluetooth 

![Схема работы](https://image.ibb.co/femviy/Turniket2.png)

Note:
На первом этапе было важно показать, что управлять турникетом возможно в принципе. Поэтому мы взялись за сброку адаптера для управления мотором напрямую, отключив контроллер и считыватели RFID. Основной задачей первого этапа было проверить на сколько удобно будет управлять турникетом через Bluetooth и ответить на следующие вопросы

---

#### Вопросы первого этапа

- Будет ли это достаточно быстро?
- Сможем ли мы отличать вход от выхода?
- Будет ли это удобно пользователям?

Note:

Здесь важно было ответить на следующие вопросы. Сможем ли мы организовать достаточно быстрый обмен данными, достаточный для того, чтобы пользователи не испытывали дискомфорт.

Второй важной задачей было понять сможем ли мы отличать когда человек входит, а когда выходит. Я постараюсь объяснить это на следующем слайде.

Последний вопрос, будет ли пользователям удобно. Нужно разработать удобное и быстрое приложение, которое не будет вызывать неудобств.

---

#### Отличать вход/выход

![Вход/Выход](https://image.ibb.co/ekyEty/Turniket3.png)
